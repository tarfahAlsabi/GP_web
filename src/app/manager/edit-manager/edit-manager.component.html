<mat-toolbar   style="background-color:transparent">
  <span class="primary">
      <a  (click)="gobacktoProducts()" > <span>العودة إلى عرض بيانات المدير  </span></a> 
  </span>
  <span class="toolbar-spacer"></span>
</mat-toolbar>


<mat-card class="formContainer" >
  <mat-card-title>	
    <h2> تعديل بيانات المدير  </h2>
  </mat-card-title>
  <flash-messages></flash-messages>
  <div *ngIf="fname.errors && (fname.dirty || fname.touched)"  class="alert alert-danger">
    <div [hidden]="!fname.errors.minlength">   *يجب ان يكون الأسم الأول على الاقل متكون من حرفين</div>

    <div [hidden]="!fname.errors.required">*ارجوإدخال الأسم الأول</div>
  </div>

<div *ngIf="lname.errors && (lname.dirty || lname.touched)"  class="alert alert-danger">
  <div [hidden]="!lname.errors.minlength">
    *يجب ان يكون أسم العائلة على الاقل متكون من  ثلاثة أحرف</div>

  <div [hidden]="!lname.errors.required">*ارجو إدخال إسم العائلة</div>
</div>

<div *ngIf="phone.errors && (phone.dirty || phone.touched)"  class="alert alert-danger">
  <div [hidden]="!phone.errors.pattern">*رقم الجوال يجب ان يحتوي على أرقام فقط</div>
  <div [hidden]="!phone.errors.minlength">
    *رقم الجوال يجب أن لا يقل عن 10 أرقام </div>
</div>
<mat-card-content>
  <form #managerForm="ngForm" (ngSubmit)="onSubmit(managerForm)" dir="rtl">

      <input type="hidden" name="$key" #$key="ngModel" 
      [(ngModel)]="manager.$key">
      <input type="hidden" name="uid" #$key="ngModel" 
      [(ngModel)]="manager.uid">

      <input type="hidden" name="picPath" #picPath="ngModel" 
      [(ngModel)]="manager.picPath">

      <input type="hidden" name="picName" #picName="ngModel" 
      [(ngModel)]="manager.picName">

      <input type="hidden" name="ReceiptID" #ReceiptID="ngModel" 
      [(ngModel)]="manager.ReceiptID">

      <input type="hidden" name="businessname" #businessname="ngModel" 
      [(ngModel)]="manager.businessname">

      <input type="hidden" name="email" #email="ngModel" 
      [(ngModel)]="manager.email">

      <input type="hidden" name="password" #password="ngModel" 
      [(ngModel)]="manager.password">



    <div class="form-group col-md-6 col-sm-12">
        <label > <h4>  الاسم الأول </h4> </label>
         
 
        <input matInput   name="fname" #fname="ngModel" [(ngModel)]="manager.fname"        
        minlength="2" required  class="form-control"  
        aria-describedby="emailHelp" placeholder="مثال: منى">
      </div>

 
      


      <div class="form-group col-md-6 col-sm-12">
          <label > <h4>   العائلة </h4> </label>
         
          <input matInput  minlength="3" name="lname" 
          #lname="ngModel" [(ngModel)]="manager.lname"
           class="form-control" placeholder="العائلة" required>
        

    </div>


      <div class="form-group col-md-6 col-sm-12">
          <label > <h4>   الجوال </h4> </label>

          <input matInput type="tel" name="phone" 
           class="form-control" #phone="ngModel" [(ngModel)]="manager.phone"
          minlength="10" pattern="[0-9]*" >
  



  </div>

          
    <div class="form-group custom-file col-md-6 col-sm-12 ">
      <label   >
         <h4>صورة الموظف:</h4></label> 
        <input  type="file" (change)="detectFiles($event)"  class="form-control custom-file-input" accept="image/gif, image/jpeg, image/png" >
      
      <p>
      <small > الصيغ المسموح بها gif , jpeg ,png</small> </p>      
      </div>
     

    <div *ngIf="num" >
      <div class="progress">
        <div class="progress-bar progress-bar-animated" [ngStyle]="{ 'width': num + '%' }"></div>
      </div> 
      التحميل: | : {{num}}% اكتمل
    </div>
 
    

    <button  mat-raised-button class="Btns  blueBtn"  type="submit"  [disabled]="!managerForm.valid">
      تعديل</button>

     <button mat-raised-button  type="button"  class="Btns greyBtn "  (click)="openDialog()">
    إلغاء</button>

     



      
        </form>
        </mat-card-content>
</mat-card>