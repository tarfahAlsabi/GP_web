
<mat-card class="formContainer" >
    <mat-card-title>	
      <h2> إضافة منتج </h2>
    </mat-card-title>
    <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm)">

      <input type="hidden" name="$key" #$key="ngModel" 
      [(ngModel)]="productService.selectedProduct.$key">

      <input type="hidden" name="picPath" #picPath="ngModel" 
      [(ngModel)]="productService.selectedProduct.picPath">

      <input type="hidden" name="picName" #picName="ngModel" 
      [(ngModel)]="productService.selectedProduct.picName">

      <table>
        <tr>
          <td>
            <mat-form-field class="example-full-width">
          <input matInput    name="name" #name="ngModel" 
          [(ngModel)]="productService.selectedProduct.name" 
          placeholder="اسم المنتج" required>
          <!-- <mat-error *ngIf="ID.invalid">خانة مطلوبة </mat-error> -->
      </mat-form-field> 
    </td>
    </tr>
    <tr>
  <td>
    <div *ngIf="name.errors && (name.dirty || name.touched)"  class="alert alert-danger">
      <div [hidden]="!name.errors.required" class="red">*الأسم الأول مطلوب </div>
    </div>
      </td>
  </tr>

  <tr>
    <td>
        <mat-form-field class="example-full-width">
          <input matInput    name="description" #description="ngModel" 
          [(ngModel)]="productService.selectedProduct.description" 
          placeholder="الوصف">
        </mat-form-field>
      </td>
    </tr>
    
    <tr>
      <td>
          <mat-form-field class="example-full-width">
            <input matInput type="number"    name="price" #price="ngModel" 
            [(ngModel)]="productService.selectedProduct.price" 
            placeholder="سعر البيع المنتج" required>
            <mat-icon matSuffix>money</mat-icon>
          </mat-form-field>
        </td>
      
    
        <td>
          <mat-form-field class="example-full-width">
           <input matInput type="number"    name="cost" #cost="ngModel" 
           [(ngModel)]="productService.selectedProduct.cost" 
           placeholder="سعر الشراء المنتج" required>
           <mat-icon matSuffix>money</mat-icon>
          </mat-form-field>
        </td>
      </tr>
      <tr>
        <td>
          <div *ngIf="price.errors && (price.dirty || price.touched)"  class="alert alert-danger">
            <div [hidden]="!price.errors.required" class="red">*سعر البيع مطلوب </div>
          </div>
     
        </td>
     <td>
      <div *ngIf="cost.errors && (cost.dirty || cost.touched)"  class="alert alert-danger">
        <div [hidden]="!cost.errors.required" class="red">*سعر الشراء مطلوب </div>
      </div>
     </td>
      </tr>
       
      <tr>
        <td>
            <mat-form-field class="example-full-width">
             <input matInput type="number"    name="inventory" #inventory="ngModel" 
             [(ngModel)]="productService.selectedProduct.inventory" 
             placeholder="الكمية المتوفرة من المنتج" required>
             <mat-icon matSuffix></mat-icon>
            </mat-form-field>
          </td>
        </tr>
          <tr>
          <td>
            <div *ngIf="inventory.errors && (inventory.dirty || inventory.touched)"  class="alert alert-danger">
              <div [hidden]="!inventory.errors.required" class="red">*الكمية مطلوبة </div>
            </div>
       
          </td>
   </tr>
       <tr>
        <td>
            <mat-form-field class="example-full-width">
              <mat-select  name="category" #category="ngModel" 
              [(ngModel)]="productService.selectedProduct.category"
               placeholder="التصنيف">
               <mat-option *ngFor="let category of cat" [value]=" category.$key ">
                {{category.$key}}
              </mat-option>
              <mat-option  *ngIf="exist" value="غير ذلك">
                  غير ذلك
                </mat-option>
            </mat-select>
            </mat-form-field>
          </td>
        </tr>
    <tr>
      <td>
       <div class="form-group" >
         <label> 
           <input type="file" (change)="detectFiles($event)">
         </label>
      
        </div>
      </td>
    </tr>
    
<tr>
  <td>
    <div *ngIf="num" >
      <div class="progress">
        <div class="progress-bar progress-bar-animated" [ngStyle]="{ 'width': num + '%' }"></div>
      </div>
      Progress: | {{num}}% Complete
    </div>
  </td>
</tr>
    <!--
    <div class="form-group">
      <label>Salary</label>
      <div class="input-group">
          <div class="input-group-addon">
            <i class="fa fa-dollar"></i>
          </div>
          <input    name="salary" #salary="ngModel" [(ngModel)]="productService.selectedProduct.salary" placeholder="0">
      </div>
    </div>
    -->
    
    <tr>
        <td>     
      <button class="btn btn-default" color="primary" mat-button type="submit" [disabled]="!productForm.valid">
        <i class="fa fa-floppy-o"></i>
         إضافة</button>
        </td>
        <td>
         <button class="btn btn-default" color="accent" type="button" mat-button (click)="cancel()">
        <i class="fa fa-repeat"></i>
         إالغاء</button>
        </td>
      </tr>

     </table>
    </form>
  </mat-card>